(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{7653:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8971:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},713:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},2601:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]])},3777:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},2027:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(4297);let r=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7394:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/evaluator/challenges/duel",function(){return s(7061)}])},1366:function(e,t,s){"use strict";s.d(t,{Z:function(){return InteractiveEditor}});var a=s(5893),r=s(7294),n=s(5152),l=s.n(n),i=s(9461),c=s(6989),o=s(713),d=s(9482),x=s(8971),u=s(7369),m=s(2027),p=s(2168),h=s(8440),b=s(1503),f=s(6114),g=s(1163);let y=l()(()=>s.e(764).then(s.bind(s,3764)),{loadableGenerated:{webpack:()=>[3764]},ssr:!1});function InteractiveEditor(e){let{initialCode:t,language:s,expectedOutput:n,challengeMode:l=!1,hints:j=[],title:v="Code Laboratory",onSubmit:N,submitLabel:w="Submit for Review"}=e,[k,C]=(0,r.useState)(t),{updateContext:Z,toggleChat:E,sendMessage:S}=(0,f.l)(),_=(0,g.useRouter)();(0,r.useEffect)(()=>{Z({currentCode:k,language:s,problemTitle:v})},[k,s,v]);let[R,T]=(0,r.useState)(null),[P,L]=(0,r.useState)(!1),[A,F]=(0,r.useState)(null),[O,M]=(0,r.useState)(!1),{trackEvent:D}=(0,h.z)(),{user:I}=(0,b.a)(),handleRun=async()=>{if(!I){confirm("Login to execute code?")&&_.push("/login");return}L(!0);let e=await (0,p.Q)(k,s);T(e),L(!1),D("run","problem",v,{language:s,success:!!e.output}),n&&e.output.trim()===n.trim()?(F(!0),D("solve","problem",v,{language:s,challengeMode:l})):n&&F(!1)},handleSubmit=e=>{if(!I){confirm("Login to submit solution?")&&_.push("/login");return}N&&N(e)};return(0,a.jsxs)("div",{className:"my-8 rounded-2xl border border-ui-border bg-ui-dark overflow-hidden shadow-2xl",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-ui-border bg-ui-card flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(l?"bg-rose-500/20 text-rose-400":"bg-accent/20 text-accent"),children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-text-primary tracking-tight",children:v}),(0,a.jsxs)("p",{className:"text-[10px] text-text-muted font-mono uppercase tracking-widest",children:[s," \xb7 ",l?"CHALLENGE MODE":"FREE PRACTICE"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[j.length>0&&(0,a.jsxs)("button",{onClick:()=>M(!O),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold text-text-muted hover:text-text-primary transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"})," Hint"]}),(0,a.jsx)("button",{onClick:()=>{C(t),T(null),F(null)},className:"p-2 text-text-muted hover:text-text-primary transition-colors",title:"Reset Code",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{E(),S("Explain the current code logic.")},className:"p-2 text-text-muted hover:text-rose-400 transition-colors border border-transparent hover:border-rose-500/20 rounded-lg",title:"Explain with AI",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("button",{onClick:handleRun,disabled:P,className:"flex items-center gap-2 px-6 py-1.5 rounded-xl text-xs font-bold transition-all shadow-glow ".concat(P?"bg-ui-border opacity-50":"bg-accent text-primary hover:bg-highlight hover:text-white"),children:[P?(0,a.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(d.Z,{className:"w-4 h-4 fill-current"}),P?"Compiling...":"Run Code"]}),N&&(0,a.jsxs)("button",{onClick:()=>handleSubmit(k),className:"flex items-center gap-2 px-6 py-1.5 rounded-xl text-xs font-black transition-all bg-rose-500 text-primary hover:bg-rose-400 shadow-glow-rose",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 fill-current"}),w]})]})]}),O&&j.length>0&&(0,a.jsx)("div",{className:"bg-primary/40 border-b border-ui-border p-4 animate-in slide-in-from-top duration-300",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-accent mt-0.5"}),(0,a.jsx)("div",{className:"flex-1 space-y-2",children:j.map((e,t)=>(0,a.jsxs)("p",{className:"text-xs text-text-secondary leading-relaxed",children:[(0,a.jsxs)("span",{className:"font-bold text-accent mr-2",children:["Hint ",t+1,":"]})," ",e]},t))})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 min-h-[400px]",children:[(0,a.jsx)("div",{className:"lg:col-span-3 border-r border-ui-border relative min-h-[300px]",children:(0,a.jsx)(y,{height:"100%",language:s,value:k,onChange:e=>C(e||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"'JetBrains Mono', monospace",scrollBeyondLastLine:!1,padding:{top:16},automaticLayout:!0}})}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-primary/20 flex flex-col",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-ui-border flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-[10px] font-mono text-text-muted uppercase tracking-widest font-bold",children:"Console Output"}),null!==A&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-[10px] font-bold uppercase tracking-widest ".concat(A?"text-emerald-400":"text-rose-400"),children:[A?(0,a.jsx)(u.Z,{className:"w-3 h-3"}):(0,a.jsx)(m.Z,{className:"w-3 h-3"}),A?"Verified":"Mismatch"]})]}),(0,a.jsxs)("div",{className:"flex-1 p-4 font-mono text-sm overflow-auto max-h-[400px]",children:[!R&&!P&&(0,a.jsx)("p",{className:"text-text-muted italic opacity-50",children:"Press run to see output..."}),P&&(0,a.jsxs)("div",{className:"flex items-center gap-3 text-accent animate-pulse",children:[(0,a.jsx)("div",{className:"w-1 h-4 bg-accent animate-ping"}),"Executing on remote server..."]}),R&&(0,a.jsxs)("div",{className:"space-y-4",children:[R.stdout&&(0,a.jsx)("pre",{className:"text-emerald-400 whitespace-pre-wrap",children:R.stdout}),R.stderr&&(0,a.jsx)("pre",{className:"text-rose-400 whitespace-pre-wrap",children:R.stderr}),!R.stdout&&!R.stderr&&R.output&&(0,a.jsx)("pre",{className:"text-text-secondary whitespace-pre-wrap",children:R.output})]})]}),l&&!1===A&&(0,a.jsx)("div",{className:"p-4 bg-rose-500/10 border-t border-rose-500/20",children:(0,a.jsxs)("p",{className:"text-xs text-rose-400",children:[(0,a.jsx)("strong",{children:"Expected:"})," ",(0,a.jsx)("code",{className:"bg-rose-500/20 px-1 rounded",children:n})]})})]})]})]})}},8440:function(e,t,s){"use strict";s.d(t,{z:function(){return useAnalytics}});var a=s(7294),r=s(6813),n=s(9724),l=s(1503);function useAnalytics(){let{user:e}=(0,l.a)();(0,a.useRef)(Date.now());let trackEvent=async function(t,s,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e)try{await (0,n.ET)((0,n.hJ)(r.db,"user_activity_events"),{user_id:e.uid,event_type:t,entity_type:s,entity_id:a,metadata:l,duration_ms:i,created_at:(0,n.Bt)()})}catch(e){console.warn("[Analytics] Failed to track event:",e)}};return{trackEvent,trackTimeSpent:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.useEffect)(()=>{let a=Date.now();return()=>{let r=Date.now(),n=r-a;n>5e3&&trackEvent("view",e,t,s,n)}},[t])}}}},2168:function(e,t,s){"use strict";s.d(t,{Q:function(){return executeCode}});let a={javascript:"javascript",js:"javascript",python:"python3",py:"python3",c:"c",cpp:"cpp",java:"java"},executeCode=async(e,t)=>{let s=a[t.toLowerCase()]||t;try{let t=await fetch("https://emkc.org/api/v2/piston/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({language:s,version:"*",files:[{content:e}]})}),a=await t.json();return{stdout:a.run.stdout,stderr:a.run.stderr,output:a.run.output,exitCode:a.run.code}}catch(e){return{stdout:"",stderr:"Failed to connect to execution server.",output:"Error: Execution server unreachable.",exitCode:1}}}},7061:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return PeerChallenge}});var a=s(5893),r=s(7294),n=s(433),l=s(2601),i=s(3777),c=s(4933),o=s(7653),d=s(1470),x=s(1366);function PeerChallenge(){let[e,t]=(0,r.useState)("searching"),[s,u]=(0,r.useState)(600),[m,p]=(0,r.useState)(0),[h,b]=(0,r.useState)("coding");(0,r.useEffect)(()=>{if("searching"===e){let e=setTimeout(()=>t("countdown"),3e3);return()=>clearTimeout(e)}if("countdown"===e){let e=setTimeout(()=>t("playing"),3e3);return()=>clearTimeout(e)}},[e]),(0,r.useEffect)(()=>{if("playing"===e&&s>0){let e=setInterval(()=>{u(e=>e-1),Math.random()>.8&&p(e=>Math.min(95,e+5))},1e3);return()=>clearInterval(e)}},[e,s]);let f={title:"Array Rotation Duel",description:"Rotate an array of n elements to the right by k steps. For example, with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].",constraints:["n <= 10^5","k <= n","Time Complexity: O(n)","Space Complexity: O(1)"]};return(0,a.jsx)(n.Z,{title:"Peer Challenge | Coding Duel",children:(0,a.jsx)("div",{className:"bg-ui-dark min-h-screen py-12",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:["searching"===e&&(0,a.jsxs)("div",{className:"h-[70vh] flex flex-col items-center justify-center text-center animate-pulse",children:[(0,a.jsxs)("div",{className:"p-8 bg-highlight/20 text-highlight rounded-[2.5rem] mb-12 relative",children:[(0,a.jsx)(l.Z,{className:"w-20 h-20"}),(0,a.jsx)("div",{className:"absolute inset-0 border-4 border-highlight rounded-[2.5rem] animate-ping opacity-20"})]}),(0,a.jsx)("h2",{className:"text-4xl font-black mb-4",children:"Finding Opponent..."}),(0,a.jsx)("p",{className:"text-text-secondary",children:"Matching you with a developer of similar skill level (Lvl 5-8)"})]}),"countdown"===e&&(0,a.jsxs)("div",{className:"h-[70vh] flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("h2",{className:"text-9xl font-black text-rose-500 animate-bounce",children:"3"}),(0,a.jsx)("p",{className:"text-2xl font-black text-text-primary mt-12",children:"PREPARE FOR BATTLE"})]}),"playing"===e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6 sticky top-24",children:[(0,a.jsxs)("div",{className:"bg-ui-card border border-rose-500/30 rounded-3xl p-6 shadow-glow-rose",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-rose-500"}),(0,a.jsxs)("span",{className:"text-xl font-black text-rose-500",children:[Math.floor(s/60),":",(s%60).toString().padStart(2,"0")]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-accent"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-text-primary",children:"You"})]}),(0,a.jsx)("span",{className:"text-[10px] font-black text-accent",children:"Coding..."})]}),(0,a.jsx)("div",{className:"w-full bg-primary h-2 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"bg-accent h-full w-[40%] transition-all"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-ui-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-rose-400"}),(0,a.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-rose-400",children:"Player_423"})]}),(0,a.jsx)("span",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest animate-pulse",children:"Thinking..."})]}),(0,a.jsx)("div",{className:"w-full bg-primary h-2 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"bg-rose-500 h-full transition-all",style:{width:"".concat(m,"%")}})})]})]}),(0,a.jsxs)("div",{className:"bg-ui-card border border-ui-border rounded-3xl p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-black uppercase tracking-widest text-text-muted mb-4",children:"Problem"}),(0,a.jsx)("h4",{className:"text-lg font-bold mb-3",children:f.title}),(0,a.jsx)("p",{className:"text-xs text-text-secondary leading-relaxed mb-6",children:f.description}),(0,a.jsx)("div",{className:"space-y-2",children:f.constraints.map((e,t)=>(0,a.jsxs)("div",{className:"text-[10px] text-text-muted flex gap-2",children:[(0,a.jsx)("span",{className:"text-rose-500",children:"â€¢"})," ",e]},t))})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[(0,a.jsx)(x.Z,{title:"Duel Lab",initialCode:"function rotate(nums, k) {\n  // Fastest O(n) implementation wins\n\n}",language:"javascript",onSubmit:()=>t("result"),submitLabel:"Final Submit (Fast Race)",challengeMode:!0}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-500/10 border border-blue-500/20 p-6 rounded-2xl flex items-center gap-4",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-blue-400 shrink-0"}),(0,a.jsxs)("p",{className:"text-xs text-blue-200",children:[(0,a.jsx)("b",{children:"Pro Tip:"})," In a duel, your first submission that passes all test cases is final. Efficiency and speed both matter for the win."]})]})]})]}),"result"===e&&(0,a.jsx)("div",{className:"max-w-2xl mx-auto py-12",children:(0,a.jsxs)("div",{className:"bg-ui-card border border-accent/30 rounded-[3rem] p-12 text-center shadow-glow",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-accent/20 text-accent rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce",children:(0,a.jsx)(d.Z,{className:"w-12 h-12"})}),(0,a.jsx)("h2",{className:"text-5xl font-black mb-4 uppercase tracking-tighter",children:"Victory!"}),(0,a.jsx)("p",{className:"text-text-secondary text-lg mb-12",children:"You solved the Array Rotation challenge 42 seconds faster than Player_423."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-12",children:[(0,a.jsxs)("div",{className:"p-6 bg-primary/40 border border-ui-border rounded-2xl",children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-text-muted uppercase mb-1",children:"XP Earned"}),(0,a.jsx)("p",{className:"text-2xl font-black text-emerald-400",children:"+250 XP"})]}),(0,a.jsxs)("div",{className:"p-6 bg-primary/40 border border-ui-border rounded-2xl",children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-text-muted uppercase mb-1",children:"Impact"}),(0,a.jsx)("p",{className:"text-2xl font-black text-accent",children:"+5 Rank Points"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("button",{className:"flex-1 py-4 bg-accent text-primary font-black rounded-2xl hover:shadow-glow transition-all uppercase tracking-widest text-xs",children:"Compare Solutions"}),(0,a.jsx)("button",{onClick:()=>t("searching"),className:"flex-1 py-4 bg-ui-dark border border-ui-border text-text-primary font-black rounded-2xl hover:bg-ui-border transition-all uppercase tracking-widest text-xs",children:"Find Next Duel"})]})]})})]})})})}}},function(e){e.O(0,[525,433,774,888,179],function(){return e(e.s=7394)}),_N_E=e.O()}]);