{
  "title": "Update Operations",
  "slug": "mongodb-update",
  "subject": "MongoDB",
  "category": "NoSQL Database",
  "level": "Beginner",
  "estimated_read_time": "20 mins",
  "prerequisites": [
    "Find Queries"
  ],
  "learning_objectives": [
    "updateOne()",
    "updateMany()",
    "replaceOne()",
    "$set operator"
  ],
  "theory": "Update operations modify existing documents. You must distinct between updating specific fields (using atomic operators like $set) and replacing the entire document.",
  "syntax": "db.coll.updateOne(filter, update, options)",
  "examples": [
    {
      "code": "db.users.updateOne(\n  { name: \"Alice\" },\n  { $set: { age: 31 } }\n)",
      "output": "{ matchedCount: 1, modifiedCount: 1 }",
      "explanation": "Finds Alice and sets her age to 31. Leaves other fields alone."
    }
  ],
  "common_mistakes": [
    {
      "mistake": "Updating without atomic operators",
      "correction": "Earlier versions allowed replacing via update(). Now replaceOne() is explicit. If you pass { age: 31 } to updateOne without $set, it might fail or technically be invalid syntax depending on driver.",
      "example": "db.coll.update({name:'A'}, {age: 12}) // Replaces doc with ONLY age:12"
    }
  ],
  "interview_questions": [
    {
      "question": "What is 'upsert'?",
      "answer": "If no document matches the filter, create a new one. Triggered via { upsert: true } option.",
      "difficulty": "Medium"
    }
  ],
  "practice_problems": [],
  "real_world_use_cases": [
    {
      "scenario": "Incrementing Views",
      "description": "Using $inc to atomically increase a view counter.",
      "code": "{ $inc: { views: 1 } }"
    }
  ],
  "exam_notes": [
    "$set modifies specific fields.",
    "$unset removes fields."
  ],
  "summary": "Updating data precisely without overwriting unrelated fields is crucial."
}